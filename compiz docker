# What this does...
# Install compiz docker container over the host desktop for wobbly windows and other special effects


# Install xfce4-desktop ( Clear Linux OS related )
swupd bundle-add xfce4-desktop

# Disable graphical target and create .xinitrc
sudo systemctl set-default multi-user.target 
echo "exec xfce4-session" > $HOME/.xinitrc
reboot, login and type startx

# Xfce4 desktop
echo -e "FROM ubuntu \\nRUN apt update \\nRUN apt upgrade -y\\nRUN apt update -y" > /tmp/Dockerfile
sudo docker build -t compiz < /tmp/Dockerfile -
xhost local:${USER}
sudo docker run -it --privileged -e -v /dev/shm:/dev/shm:rw --net=host -e DISPLAY=${DISPLAY} compiz

# Inside the docker container command line
apt install compizconfig-settings-manager compiz fusion-icon emerald

# Save the container at this point
sudo docker ps
sudo docker commit <CONTAINER ID>  <IMAGE>  # Replace Container ID and Image with what is shown after your type sudo docker ps




# Enable graphical targer to fallback and ignore .xinirtc
# sudo systemctl set-default graphical.target
